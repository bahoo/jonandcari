<!doctype html>
<html>
<head>
	<title>COUNT</title>
	<style>
		body{
			font-family: Georgia;
		}
		h1{
			font-size: 5em;
			margin: 0;
		}
		.extras{
			display: none;
		}
		.possible{
			color: #ccc;
		}
	</style>
	<meta name="viewport" content="initial-scale=1.0; maximum-scale=1.0;" />
</head>
<body>
<h1 style="text-align: center;">{{ count }}<span class="possible">/{{ maximum }}</span></h1>
<ul class="attendees">
	{% for a in attendees %}
	<li>{{ a.name }} {% if a.count > 1 %}(+{{ a.plus_one_situation }})
		<ul class="extras">
			{% for p in a.get_attendees %}
				<li>{{ p }}</li>
			{% endfor %}
		</ul>{% endif %}</li>
	{% endfor %}
	<p>{{ pct_reporting }} reporting.</p>

	<h3>Not attending:</h3>
	<ul>
		{% for n in not_attending %}
			<li>{{ n.name }}</li>
		{% endfor %}
	</ul>

	<h3>Not yet responded (JERKS!)</h3>
	<ul>
		{% for n in not_yet_responded %}
			<li>{{ n.name }} {% if a.count > 1 %}(+{{ a.plus_one_situation }}){% endif %}</li>
		{% endfor %}
	</ul>

</ul>

<script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
<script>
	$(function(){
		$('.attendees').on('click', '> li', function(){
			var extras = $(this).find('.extras');
			if(extras.length == 0 || extras.is(':visible')){
				return;
			}
			$('.extras:visible').slideUp(300);
			extras.slideDown(400);
		});
	});
</script>
</body>
</html>